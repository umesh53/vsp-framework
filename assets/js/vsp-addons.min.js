!function(a,d,s,t){"use strict";a.VSP_ADDONS=a.VSP_ADDONS||{},a.VSP_ADDONS.pending_ajax_requets=[],a.VSP_ADDONS.addonsHTML="",a.VSP_ADDONS.is_ajax_ongoing=!1,a.VSP_ADDONS.blockUI=function(d){a("div#"+d).toggleClass("vsp-requested"),a("div#"+d).block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},a.VSP_ADDONS.unblock=function(d){a("div#"+d).toggleClass("vsp-requested"),a("div#"+d).unblock()},a.VSP_ADDONS.kick_start_addon_ajax=function(){if(a.VSP_ADDONS.is_ajax_ongoing=!0,void 0!==a.VSP_ADDONS.pending_ajax_requets[0]){var d=a.VSP_ADDONS.pending_ajax_requets[0],s=d.attr("data-outline"),t="activate",n=(s=a("div#"+s)).data("pathid");d.hasClass("vsp-deactive-addon")&&(t="deactivate"),a.ajax({url:ajaxurl,method:"POST",data:{hook_slug:vsp_addons_settings.hook_slug,addon_slug:d.attr("data-filename"),addon_action:t,addon_pathid:n,action:"vsp-addon-action"}}).done(function(d){var t=s.find(".vsp_addon_ajax_response");t.removeClass("vsp_ajax_error"),t.removeClass("vsp_ajax_success"),t.hide(),!0===d.success?(s.toggleClass("addon-inactive"),s.toggleClass("addon-active"),a.VSP_ADDONS.update_action_buttons(),t.addClass("vsp_ajax_success")):t.addClass("vsp_ajax_error"),t.html(d.data.msg),t.fadeIn("fast",function(){setTimeout(function(){t.fadeOut("slow")},4e3)})}).always(function(){a.VSP_ADDONS.unblock(s.attr("id")),a.VSP_ADDONS.pending_ajax_requets.shift(),a.VSP_ADDONS.kick_start_addon_ajax()})}else a.VSP_ADDONS.is_ajax_ongoing=!1},a.VSP_ADDONS.handle_action_clicks=function(){var d=a(this).attr("data-outline");a("div#"+d).hasClass("vsp-requested")||(a.VSP_ADDONS.pending_ajax_requets.push(a(this)),!1===a.VSP_ADDONS.is_ajax_ongoing&&a.VSP_ADDONS.kick_start_addon_ajax(),a.VSP_ADDONS.blockUI(d))},a.VSP_ADDONS.update_action_buttons=function(){a(".vsp-deactive-addon, .vsp-active-addon").hide(),a(".vsp-deactive-addon, .vsp-active-addon").attr("disabled","disabled"),a("div.addon-inactive .vsp-active-addon").show().removeAttr("disabled"),a("div.addon-active .vsp-deactive-addon").show().removeAttr("disabled"),a.VSP_ADDONS.addonsHTML=a(".vsp_addon_listing").clone()},a(s).ready(function(){a.VSP_ADDONS.update_action_buttons(),a("body").on("click","div.vsp_addon_listing button.vsp-active-addon, div.vsp_addon_listing button.vsp-deactive-addon",a.VSP_ADDONS.handle_action_clicks),a("ul.vsp-addons-category-listing").size()>0&&(a(".vsp_settings_content").remove(),a("ul.vsp-addons-category-listing li:first").addClass("current"),a("ul.vsp-addons-category-listing a").click(function(){var d=a(this),s=d.parent().attr("data-category");a("ul.vsp-addons-category-listing li").removeClass("current"),d.parent().addClass("current"),"all"==s?a(".vsp-single-addon").show():(a(".vsp-single-addon").hide(),a(".addon-"+s).fadeIn())}),a("body").on("keyup",".wp-filter-search",function(){a.VSP_ADDONS.addonsHTML.clone()}))})}(jQuery,window,document);